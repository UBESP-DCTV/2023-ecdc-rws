---
title: '[Day One]{style="color:darkblue"}:<br>[Pipe(s)]{style="color:darkorange;"}<br>and<br>[Visualization]{style="color:darkorange;"}'
subtitle: "120 min approx"
format:
  revealjs:
    width:  1648 #(3/2)
    height: 1080
    logo: img/UBEP.png
    footer: "UBEP's R training for supervisors"
    slide-number: true
    history: false
    preview-links: auto
    code-link: true
    multiplex: true
    chalkboard: 
      src: src/chalkboard-pipes-and-visualization.json
bibliography: references.bib
---

# Overview {style="color:darkblue;"}

## 

::: columns
::: {.column width="50%"}
### Questions

-   What is a `pipe` and how it works?
-   Which pipes should we know and care about?
-   what is a _ggplot_, which are its main components?
-   How data should be provided to a ggplot?
-   How can we create ggplots with the `{ggplot2}` R package?
-   What are:
  - `aes`thetics?
  - `geom`etries?
  - `facet`s?
  -  plot `theme`s and `labs`?
:::

::: {.column width="50%"}
### Lesson Objectives

#### To be able to

-   Use the R native pipe (`|>`) to concatenate functions, knowing that exists the `{magrittr}` one (`%>%`) having similar behavior.
-   Create anonymous functions in the R native style as `\(x)` to use with, but not limited to, pipes.
-   Create basic plots with `{ggplot2}` (scatter, histogram, barplot, boxplot, and time-series); including grouped plot with or without colours, and plots of multiple types.
-   Use the `facet_*` functions to stratify plots accordingly to data
-   Modify the main style component of a plot (i.e., sub-/titles, labels, legends)
-   Use the main `{patchwork}` functions to compose a plot by multiple ones.
-   Save a plot as a stand alone image file.
:::
:::


# Pipes

## Situation: sequences of actions

## Overwrite the result

## Create middle objects

## Compose function calls

## Use pipes

## `{magrittr}` vs native

## Pipes in composing plots

Curious why a distinct pipe for ggplots?
Check out the answer of `{ggplot2}` author, Hadley Wicham [here](https://community.rstudio.com/t/why-cant-ggplot2-use/4372/7)


# `ggplot2`

## Setup

## Definitions

## Data and Meta-data

## Why a Grammar for Graphics

## Practical aim of the lesson

## `ggplot` plots components

## Aesthetics

## Geometries

## Multiple Geometries

## Aesthetics within geometries

## Base template

## Customize metadata: main labels

## Customize metadata: 

## Facets

## Saving plots











# Homework

## Posit's RStudio Cloud Workspace

-   Project:
-   Instructions:
-   Script to complete:


## Acknowledgement

To create the current lesson we explored, use, and adapt contents from the following resources:

-   [Carpentrie](https://carpentries.org/)'s [Programming with R](https://swcarpentry.github.io/r-novice-inflammation/) course material.
-   [Carpentrie](https://carpentries.org/)'s [R for Reproducible Scientific Analysis](https://swcarpentry.github.io/r-novice-gapminder/) course material.
-   [Hadley Wicham](https://hadley.nz/)'s [Advanced R - (2e)](https://adv-r.hadley.nz)
-   [Hadley Wicham](https://hadley.nz/)'s [R for Data Science (2e)](https://r4ds.hadley.nz/)

The slides are made using [Posit](https://posit.co/)'s [Quarto](https://quarto.org/) open-source scientific and technical publishing system powered in R by [Yihui Xie](https://yihui.org/)'s [kintr](https://yihui.org/knitr/).

### License

```{=html}
 <p xmlns:cc="http://creativecommons.org/ns#" ><a rel="cc:attributionURL" href="https://github.com/UBESP-DCTV/2023-ecdc-rws">This work</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://github.com/CorradoLanera">Corrado Lanera, Ileana Baldi, and Dario Gregori</a> is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"></a></p> 
```
### References
